{"version":3,"sources":["webpack:///PRVue.js","webpack:///webpack/bootstrap 7edd5c8cf381fac2966e","webpack:///./src/compile.js","webpack:///./src/dep.js","webpack:///./src/index.js","webpack:///./src/observer.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","Compile","el","this","$el","isElementNode","document","querySelector","$fragment","nodeToFragment","console","log","init","appendChild","prototype","node","nodeType","fragment","createDocumentFragment","child","firstChild","uid","Dep","subs","addSub","sub","push","removeSub","indexOf","splice","index","notify","forEach","update","Observe","PRVue","options","$options","data","$data","_self","Object","keys","key","proxy","defineProperty","configurable","enumerable","get","set","newValue","window","Observer","start","value","dep"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDMM,SAASI,EAAQD,EAASH,GAE/BI,EAAOD,QAAUH,EAAoB,IAKhC,SAASI,EAAQD,GEnDvB,GAAAQ,GAAA,SAAAC,GACAC,KAAAC,IAAAD,KAAAE,cAAAH,KAAAI,SAAAC,cAAAL,GAEAC,KAAAC,MACAD,KAAAK,UAAAL,KAAAM,eAAAN,KAAAC,KACAM,QAAAC,IAAAR,KAAAK,WACAL,KAAAS,OACAT,KAAAC,IAAAS,YAAAV,KAAAK,YAIAP,GAAAa,UAAAT,cAAA,SAAAU,GACA,WAAAA,EAAAC,UAGAf,EAAAa,UAAAF,KAAA,aAIAX,EAAAa,UAAAL,eAAA,SAAAM,GACA,GAAAE,GAAAX,SAAAY,yBACAC,EAAAJ,EAAAK,UAOA,OALAD,KACAF,EAAAJ,YAAAM,GACAA,IAAAC,YAGAH,GAGAxB,EAAAQ,WF0DM,SAASP,EAAQD,GGzFvB,GAAA4B,GAAA,EAEAC,EAAA,WACAnB,KAAAR,GAAA0B,IACAlB,KAAAoB,QAGAD,GAAAR,UAAAU,OAAA,SAAAC,GACAtB,KAAAoB,KAAAG,KAAAD,IAGAH,EAAAR,UAAAa,UAAA,SAAAF,GACAtB,KAAAoB,KAAAK,QAAAH,SAAAtB,KAAAoB,KAAAM,OAAAC,MAAA,IAGAR,EAAAR,UAAAiB,OAAA,WACA5B,KAAAoB,KAAAS,QAAA,SAAAP,GACAA,EAAAQ,YAIAxC,EAAA6B,OHgGM,SAAS5B,EAAQD,EAASH,GIrHhC,GAAA4C,GAAA5C,EAAA,GAAA4C,QACAjC,EAAAX,EAAA,GAAAW,QAEAkC,EAAA,SAAAC,GACAjC,KAAAkC,SAAAD,KACA,IAAAE,GAAAnC,KAAAoC,MAAApC,KAAAkC,SAAAC,KAEAE,EAAArC,IACAsC,QAAAC,KAAAJ,GAAAN,QAAA,SAAAW,GACAH,EAAAI,MAAAD,KAGAT,EAAAI,GACA,GAAArC,GAAAE,KAAAkC,SAAAnC,IAGAiC,GAAArB,UAAA8B,MAAA,SAAAD,GACAF,OAAAI,eAAA1C,KAAAwC,GACAG,cAAA,EACAC,YAAA,EACAC,IAAA,WACA,MAAA7C,MAAAoC,MAAAI,IAEAM,IAAA,SAAAC,GACA/C,KAAAoC,MAAAI,GAAAO,MAKAC,OAAAhB,SJ4HM,SAASzC,EAAQD,EAASH,GKzJhC,GAAAgC,GAAAhC,EAAA,GAAAgC,IAEAY,EAAA,SAAAI,GACAA,GAAA,gBAAAA,IAIA,GAAAc,GAAAd,IAGAc,EAAA,SAAAd,GACAnC,KAAAmC,OACAnC,KAAAkD,QAGAD,GAAAtC,UAAAuC,MAAA,WACA,GAAAb,GAAArC,IACAsC,QAAAC,KAAAvC,KAAAmC,MAAAN,QAAA,SAAAW,GACAH,EAAAK,eAAAL,EAAAF,KAAAK,EAAAH,EAAAF,KAAAK,OAIAS,EAAAtC,UAAA+B,eAAA,SAAAP,EAAAK,EAAAW,GACA,GAAAC,GAAA,GAAAjC,EAEAY,GAAAoB,GAEAb,OAAAI,eAAAP,EAAAK,GACAG,cAAA,EACAC,YAAA,EACAC,IAAA,WACA,MAAAM,IAEAL,IAAA,SAAAC,GACAxC,QAAAC,IAAA,gBAAA2C,EAAA,cAAAJ,GACAI,EAAAJ,EACAK,EAAAxB,aAKAtC,EAAAyC","file":"PRVue.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(3);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tvar Compile = function(el) {\n\t    this.$el = this.isElementNode(el) ? el : document.querySelector(el);\n\t\n\t    if (this.$el) {\n\t        this.$fragment = this.nodeToFragment(this.$el);\n\t        console.log(this.$fragment);\n\t        this.init();\n\t        this.$el.appendChild(this.$fragment);\n\t    }\n\t};\n\t\n\tCompile.prototype.isElementNode = function(node) {\n\t    return node.nodeType === 1;\n\t};\n\t\n\tCompile.prototype.init = function() {\n\t\n\t};\n\t\n\tCompile.prototype.nodeToFragment = function(node) {\n\t    var fragment = document.createDocumentFragment();\n\t    var child = node.firstChild;\n\t\n\t    if (child) {\n\t        fragment.appendChild(child);\n\t        child = child.firstChild;\n\t    }\n\t\n\t    return fragment;\n\t};\n\t\n\texports.Compile = Compile;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tvar uid = 0;\n\t\n\tvar Dep = function() {\n\t    this.id = uid++;\n\t    this.subs = [];\n\t};\n\t\n\tDep.prototype.addSub = function (sub) {\n\t    this.subs.push(sub);\n\t};\n\t\n\tDep.prototype.removeSub = function(sub) {\n\t    if (this.subs.indexOf(sub) !== -1) this.subs.splice(index, 1);\n\t};\n\t\n\tDep.prototype.notify = function() {\n\t    this.subs.forEach(function(sub) {\n\t        sub.update();\n\t    });\n\t};\n\t\n\texports.Dep = Dep;\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Observe = __webpack_require__(4).Observe;\n\tvar Compile = __webpack_require__(1).Compile;\n\t\n\tvar PRVue = function(options) {\n\t    this.$options = options || {};\n\t    var data = this.$data = this.$options.data;\n\t\n\t    var _self = this;\n\t    Object.keys(data).forEach(function(key) {\n\t        _self.proxy(key);\n\t    });\n\t\n\t    Observe(data);\n\t    new Compile(this.$options.el);\n\t};\n\t\n\tPRVue.prototype.proxy = function(key) {\n\t    Object.defineProperty(this, key, {\n\t        configurable: false,\n\t        enumerable: true,\n\t        get: function() {\n\t            return this.$data[key];\n\t        },\n\t        set: function(newValue) {\n\t            this.$data[key] = newValue;\n\t        }\n\t    })\n\t};\n\t\n\twindow.PRVue = PRVue;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Dep = __webpack_require__(2).Dep;\n\t\n\tvar Observe = function(data) {\n\t    if (!data || typeof data !== 'object') {\n\t        return;\n\t    }\n\t\n\t    new Observer(data);\n\t};\n\t\n\tvar Observer = function(data) {\n\t    this.data = data;\n\t    this.start();\n\t};\n\t\n\tObserver.prototype.start = function() {\n\t    var _self = this;\n\t    Object.keys(this.data).forEach(function(key) {\n\t        _self.defineProperty(_self.data, key, _self.data[key]);\n\t    });\n\t};\n\t\n\tObserver.prototype.defineProperty = function(data, key, value) {\n\t    var dep = new Dep();\n\t\n\t    Observe(value);\n\t\n\t    Object.defineProperty(data, key, {\n\t        configurable: false,\n\t        enumerable: true,\n\t        get: function() {\n\t            return value;\n\t        },\n\t        set: function(newValue) {\n\t            console.log('监听变化: value->' + value + ' newValue->' + newValue);\n\t            value = newValue;\n\t            dep.notify();\n\t        }\n\t    });\n\t};\n\t\n\texports.Observe = Observe;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** PRVue.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7edd5c8cf381fac2966e\n **/","var Compile = function(el) {\n    this.$el = this.isElementNode(el) ? el : document.querySelector(el);\n\n    if (this.$el) {\n        this.$fragment = this.nodeToFragment(this.$el);\n        console.log(this.$fragment);\n        this.init();\n        this.$el.appendChild(this.$fragment);\n    }\n};\n\nCompile.prototype.isElementNode = function(node) {\n    return node.nodeType === 1;\n};\n\nCompile.prototype.init = function() {\n\n};\n\nCompile.prototype.nodeToFragment = function(node) {\n    var fragment = document.createDocumentFragment();\n    var child = node.firstChild;\n\n    if (child) {\n        fragment.appendChild(child);\n        child = child.firstChild;\n    }\n\n    return fragment;\n};\n\nexports.Compile = Compile;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/compile.js\n ** module id = 1\n ** module chunks = 0\n **/","var uid = 0;\n\nvar Dep = function() {\n    this.id = uid++;\n    this.subs = [];\n};\n\nDep.prototype.addSub = function (sub) {\n    this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function(sub) {\n    if (this.subs.indexOf(sub) !== -1) this.subs.splice(index, 1);\n};\n\nDep.prototype.notify = function() {\n    this.subs.forEach(function(sub) {\n        sub.update();\n    });\n};\n\nexports.Dep = Dep;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/dep.js\n ** module id = 2\n ** module chunks = 0\n **/","var Observe = require('./observer').Observe;\nvar Compile = require('./compile').Compile;\n\nvar PRVue = function(options) {\n    this.$options = options || {};\n    var data = this.$data = this.$options.data;\n\n    var _self = this;\n    Object.keys(data).forEach(function(key) {\n        _self.proxy(key);\n    });\n\n    Observe(data);\n    new Compile(this.$options.el);\n};\n\nPRVue.prototype.proxy = function(key) {\n    Object.defineProperty(this, key, {\n        configurable: false,\n        enumerable: true,\n        get: function() {\n            return this.$data[key];\n        },\n        set: function(newValue) {\n            this.$data[key] = newValue;\n        }\n    })\n};\n\nwindow.PRVue = PRVue;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 3\n ** module chunks = 0\n **/","var Dep = require('./dep').Dep;\n\nvar Observe = function(data) {\n    if (!data || typeof data !== 'object') {\n        return;\n    }\n\n    new Observer(data);\n};\n\nvar Observer = function(data) {\n    this.data = data;\n    this.start();\n};\n\nObserver.prototype.start = function() {\n    var _self = this;\n    Object.keys(this.data).forEach(function(key) {\n        _self.defineProperty(_self.data, key, _self.data[key]);\n    });\n};\n\nObserver.prototype.defineProperty = function(data, key, value) {\n    var dep = new Dep();\n\n    Observe(value);\n\n    Object.defineProperty(data, key, {\n        configurable: false,\n        enumerable: true,\n        get: function() {\n            return value;\n        },\n        set: function(newValue) {\n            console.log('监听变化: value->' + value + ' newValue->' + newValue);\n            value = newValue;\n            dep.notify();\n        }\n    });\n};\n\nexports.Observe = Observe;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/observer.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}